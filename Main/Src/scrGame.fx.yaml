scrGame As screen:
    OnVisible: |-
        =Set(varPlayerTurn, false);
        Set(varGame, 0);

    btnGetDeck As button:
        Height: =55
        OnSelect: |-
            =ClearCollect(colDecks, DeckOfCards.GetDecks({deck_count:6}))
        Text: ="Get Deck"
        X: =1107
        Y: =621
        ZIndex: =1

    Button1_1 As button:
        Height: =60
        OnSelect: |-
            =ClearCollect(colCard, DeckOfCards.GetCards(First(colDecks).deck_id,{count:4}));
            ClearCollect(colCardInfo, First(colCard).cards);
            Set(FirstCard, Index(colCardInfo, 1));
            Set(SecondCard, Index(colCardInfo, 2));
            Set(ThirdCard, Index(colCardInfo, 3));
            Set(FourthCard, Index(colCardInfo, 4));
            Set(FifthCard, Index(colCardInfo, 5));
            Set(SixthCard, Index(colCardInfo, 6));
            Set(SeventhCard, Index(colCardInfo, 7));
            Set(EighthCard, Index(colCardInfo, 8));
            Set(NinethCard, Index(colCardInfo, 9));
            Set(TenthCard, Index(colCardInfo, 10));
        Text: ="Get Card / unused"
        X: =1206
        Y: =273
        ZIndex: =4

    Label4 As label:
        Text: |-
            ="Card value: " & If(!IsNumeric(FirstCard.value),10 ,FirstCard.value) + If(!IsNumeric(SecondCard.value),10 ,SecondCard.value)
        X: =1216
        Y: =333
        ZIndex: =7

    btnGetCardPlayer As button:
        Height: =60
        OnSelect: |
            =ClearCollect(colCard, DeckOfCards.GetCards(First(colDecks).deck_id,{count:1}));
            
            Collect(colCardPlayer, First(colCard).cards);
            
            /*
            Set(FirstCard, Index(colCardInfo, 1));
            Set(SecondCard, Index(colCardInfo, 2));
            */
        Text: ="Get Card for player"
        X: =1206
        Y: =708
        ZIndex: =10

    btnGetCardDealer As button:
        Height: =58
        OnSelect: |
            =ClearCollect(colCard, DeckOfCards.GetCards(First(colDecks).deck_id,{count:1}));
            Collect(colCardDealer, First(colCard).cards);
        Text: ="Get Card for dealer"
        Width: =170
        X: =1014
        Y: =710
        ZIndex: =11

    btnClearCards As button:
        OnSelect: |
            =Concurrent(
                Clear(colCardDealer),
                Clear(colCardPlayer)
            );
        Text: ="Clear collections"
        Width: =188
        Y: =728
        ZIndex: =12

    Gallery1 As gallery.galleryHorizontal:
        DelayItemLoading: =true
        DisplayMode: =DisplayMode.View
        Height: =163
        Items: =colCardDealer
        LoadingSpinner: =LoadingSpinner.Data
        ShowScrollbar: =false
        TemplateSize: =44
        Width: =427
        X: =587
        Y: =131
        ZIndex: =13

        Image1 As image:
            Height: =153
            Image: =ThisItem.image
            OnSelect: =Select(Parent)
            Width: =111
            ZIndex: =1

    Gallery1_2 As gallery.galleryHorizontal:
        DelayItemLoading: =true
        DisplayMode: =DisplayMode.View
        Height: =163
        Items: |
            =colCardPlayer
        LoadingSpinner: =LoadingSpinner.Data
        ShowScrollbar: =false
        TemplateSize: =46
        Width: =427
        X: =587
        Y: =458
        ZIndex: =15

        Image1_2 As image:
            Height: =153
            Image: =ThisItem.image
            OnSelect: =Select(Parent)
            Width: =111
            ZIndex: =1

    imgDealerCard As image:
        Height: =154
        Image: =back
        Visible: =varPlayerTurn
        Width: =111
        X: =641
        Y: =136
        ZIndex: =16

    Timer1 As timer:
        Duration: =3000
        Text: =Text(Time(0, 0, Self.Value/1000), "ss")
        X: =1206
        ZIndex: =17

    lblWin As label:
        Align: =Align.Center
        Font: =Font.Georgia
        Height: =233
        Size: =80
        Text: ="Win"
        Visible: =If(varGame=1,true,false)
        Width: =518
        X: =437
        Y: =236
        ZIndex: =18

    lblLose As label:
        Align: =Align.Center
        Font: =Font.Georgia
        Height: =233
        Size: =80
        Text: ="You lost"
        Visible: =If(varGame=2,true,false)
        Width: =518
        X: =443
        Y: =236
        ZIndex: =19

